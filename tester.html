<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <title>Homepage</title>
    <link rel="stylesheet" href="/static/cssmfu.css">

    <script>


        function configureSSID1() {
            var ssid1 = document.getElementById("ssid1").value;
            var event1 = document.getElementById("event1").value;
            // Get the select element
            var location1 = document.getElementById("location1");

            // Get the selected value
            var location1 = location1.value;

            // Do something with the selected value
            console.log(location1);


            // Make an AJAX request to the server
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert("SSID configuration successful!");
                    window.location.href = "/history";
                }
            };
            xhttp.open("POST", "/configure_ssid1", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("ssid1=" + ssid1 + "&event1=" + event1 + "&location1=" + location1);
        }
        function configureSSID2() {
            var ssid2 = document.getElementById("ssid2").value;
            var event2 = document.getElementById("event2").value;
            // Get the select element
            var location2 = document.getElementById("location2");

            // Get the selected value
            var location2 = location2.value;

            // Do something with the selected value
            console.log(location2);


            // Make an AJAX request to the server
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert("SSID configuration successful!");
                    window.location.href = "/history";
                }
            };
            xhttp.open("POST", "/configure_ssid2", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("ssid2=" + ssid2 + "&event2=" + event2 + "&location2=" + location2);
        }

      
        
        function configureSSID() {
            var ssid = document.getElementById("ssid").value;
            var password = document.getElementById("password").value;
            var confirmPassword = document.getElementById("confirmPassword").value;
            var event = document.getElementById("event").value;
            // Get the select element
            var location = document.getElementById("location");

            // Get the selected value
            var location = location.value;

            // Do something with the selected value
            console.log(location);


            // Make an AJAX request to the server
            var xhttp = new XMLHttpRequest();
            if (password !== confirmPassword) {
                // Display an error message or indicator
                alert("รหัสผ่านไม่เหมือนกัน");
                return false;
            } else {
                xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    alert("SSID configuration successful!");
                    window.location.href = "/history";
                }
            };
            xhttp.open("POST", "/configure_ssid", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("ssid=" + ssid + "&password=" + password + "&event=" + event + "&location=" + location);
                // Remove any error message or indicator
                return true;
            }
            
        }

        










    </script>


</head>

<body id="bodybg">


    <nav class="navbar navbar-expand-sm bg-light ">
        <div class="container-fluid">
            <a class="navbar-brand"><img src="/static/mfu.gif" alt=""></a>
            <div> <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="collapsibleNavbar">
                    <ul class="navbar-nav">

                        <li class="nav-item">
                            <a class="nav-link" href="#">Username</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  " id="but" href="/login-1.html" role="button">Log out</a>

                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>

    <div class="flex-container">
        <div class="flex-item-left">
            <p id="link2"><a id="link3">สร้าง SSID</a></p>
            <p id="link1"><a href="/history" id="link">ประวัติการสร้าง SSID</a></p>
            <p id="link1"><a href="/testest" id="link">ประวัติการสร้าง SSID</a></p>


        </div>
        <div class="flex-item-right">
            <div id="config1"><button data-bs-toggle="modal" data-bs-target="#myModal1"
                    id="config2">แบบไม่มีรหัสผ่าน</button></div>
            <div id="config1"><button data-bs-toggle="modal" data-bs-target="#myModal"
                    id="config3">แบบรหัสผ่านร่วมกัน</button></div>
            <div id="config1"><button data-bs-toggle="modal" data-bs-target="#myModal2"
                id="config4">แบบรายบุคคล</button></div>
        </div>
    </div>

    <!-- The Modal1 -->
    <div class="modal fade" id="myModal1">
        <div class="modal-dialog modal-dialog-centered">>
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="text-align: center;">แบบรหัสผ่านร่วมกัน</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <form>
                        <div class="card-body pt-0" id="evnt">
                            <center><input type="text" id="ssid1" placeholder="โปรดระบุชื่่อ SSID ">
                                <center><input type="text" id="event1" placeholder="โปรดระบุชื่อกิจกรรม">
                                    
                                        <center><select id="location1">
                                                <option value="" selected disabled>โปรดเลือกสถานที่</option>
                                                <option value="AS">AS</option>
                                                <option value="ap2">AP2</option>
                                            </select>
                                            <input type="button" data-bs-dismiss="modal" value="ยืนยัน"
                                                onclick="configureSSID1()" id="butsub">
                        </div>
                    </form>
                </div>



            </div>
        </div>
    </div>






    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-dialog-centered">>
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="text-align: center;">แบบรหัสผ่านร่วมกัน</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <form>
                        <div class="card-body pt-0" id="evnt">
                            <center><input type="text" id="ssid" placeholder="โปรดระบุชื่่อ SSID ">
                                <center><input type="text" id="event" placeholder="โปรดระบุชื่อกิจกรรม">
                                    <center><input type="password" name="password" id="password"
                                            placeholder="โปรดระบุรหัสผ่าน">
                                        <center>
                                                <input type="password" name="confirmPassword" id="confirmPassword" placeholder="ยืนยันรหัสผ่าน">
                                            </center>
                                        <center><select id="location">
                                                <option value="" selected disabled>โปรดเลือกสถานที่</option>
                                                <option value="AS">AS</option>
                                                <option value="ap2">AP2</option>
                                            </select>
                                            <input type="button" data-bs-dismiss="modal" value="ยืนยัน"
                                                onclick="configureSSID()" id="butsub">
                        </div>
                    </form>
                </div>



            </div>
        </div>
    </div>


<!-- The Modal1 -->
<div class="modal fade" id="myModal2">
    <div class="modal-dialog modal-dialog-centered">>
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title" style="text-align: center;">แบบรายบุคคล</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <form id="ssidForm2" enctype="multipart/form-data">
                    <div class="card-body pt-0" id="evnt">
                        <center><input type="text" id="ssid2" placeholder="โปรดระบุชื่่อ SSID ">
                            <center><input type="text" id="event2" placeholder="โปรดระบุชื่อกิจกรรม">
                                <center><select id="location2">
                                    <option value="" selected disabled>โปรดเลือกสถานที่</option>
                                    <option value="AS">AS</option>
                                    <option value="ap2">AP2</option>
                                </select>
                                <center><input type="file" id="csvFile" name="csvFile" accept=".csv">
                                <input type="button" data-bs-dismiss="modal" value="ยืนยัน"
                                    onclick="configureSSID2()" id="butsub">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>






</body>



</html>

<script>
    function configureSSID2() {
    var ssid2 = document.getElementById("ssid2").value;
    var event2 = document.getElementById("event2").value;
    var location2 = document.getElementById("location2").value;
    var csvFile = document.getElementById("csvFile").files[0];

    var formData = new FormData();
    formData.append("ssid2", ssid2);
    formData.append("event2", event2);
    formData.append("location2", location2);
    formData.append("csvFile", csvFile);

    // Make an AJAX request to the server
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            alert("SSID configuration successful!");
            window.location.href = "/history";
        }
    };
    xhttp.open("POST", "/configure_ssid2", true);
    xhttp.send(formData);
}

</script>